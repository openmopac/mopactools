

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API &mdash; mopactools 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=2389946f"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Example" href="example.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            mopactools
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">mopactools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this heading"></a></h1>
<p>MOPAC’s application programming interface (API) is intended to streamline access and improve performance for the most commonly used features,
while also providing access to MOPAC’s conventional file-based operations.</p>
<p>The Python API is located in the <code class="docutils literal notranslate"><span class="pre">api.py</span></code> module of mopactools, which can be imported as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">mopactools</span><span class="w"> </span><span class="kn">import</span> <span class="n">api</span>
</pre></div>
</div>
<p>Conventional MOPAC calculations using an input file can then be run by using the function:</p>
<p>The rest of the API functionality is presently limited to the most commonly used features in MOPAC, which is the calculation of an electronic ground
state, with an option to relax the atomic coordinates to their local energy minimum, and a further option to calculate vibrational properties at that
relaxed geometry. These features can be run using either the conventional MOPAC solver or the linear-scaling MOZYME solver. The MOZYME solver is faster
for larger systems, but only works under a narrower set of conditions. Specifically, the MOZYME solver only works for closed-shell systems
with a covalent and/or ionic bonding structure that can be inferred from the geometry. Otherwise, MOZYME will fail and report an error.</p>
<p>This functionality is accessed through the function:</p>
<p>The Python data layout follows the underlying Fortran (with C bindings) data layout. There is a <code class="docutils literal notranslate"><span class="pre">MopacSystem</span></code> object for the atomistic system data
and computational options that define the calculation, a <code class="docutils literal notranslate"><span class="pre">MopacState</span></code> or <code class="docutils literal notranslate"><span class="pre">MozymeState</span></code> object that describes the electronic ground state at the beginning
and end of the calculation, and a <code class="docutils literal notranslate"><span class="pre">MopacProperties</span></code> object that stores the important physical properties that were evaluated during the calculation.
The <code class="docutils literal notranslate"><span class="pre">MopacSystem</span></code> object is strictly an input that is not altered by the calculation, while the <code class="docutils literal notranslate"><span class="pre">MopacState</span></code> and <code class="docutils literal notranslate"><span class="pre">MozymeState</span></code> objects act as both
inputs and outputs, so the input object is altered by the function call. The initial value of <code class="docutils literal notranslate"><span class="pre">MopacState</span></code> or <code class="docutils literal notranslate"><span class="pre">MozymeState</span></code> is used as the initial guess
for the self-consistent field (SCF) cycle, and the final value is the converged ground state at the end of the SCF cycle. An uninitialized <code class="docutils literal notranslate"><span class="pre">MopacState</span></code> or
<code class="docutils literal notranslate"><span class="pre">MozymeState</span></code> instance correspond to the default guesses for the electronic ground state (an atomic guess for MOPAC and a Lewis-bonded guess for MOZYME).
The <code class="docutils literal notranslate"><span class="pre">MopacProperties</span></code> object is strictly an output, therefore it is returned by the API call rather than specified as a function argument.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The relaxed geometry of a system is stored in <code class="docutils literal notranslate"><span class="pre">MopacProperties.coord_update</span></code> rather than <code class="docutils literal notranslate"><span class="pre">MopacSystem.coord</span></code> because <code class="docutils literal notranslate"><span class="pre">MopacSystem</span></code> is not
altered by calls to <code class="docutils literal notranslate"><span class="pre">api.from_data</span></code>. The user has to update the geometry themselves if they want it to be used in subsequent calculations.</p>
</div>
<p>The specification of this API data structures is as follows:</p>
<p>Finally, version information about the MOPAC shared library is provided by the module variable:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>None of the MOPAC API functionality is thread-safe. Typical usage of Python occurs in a single thread, so this is not relevant to normal operations.
However, Python is slowly expanding its multi-threading support, so this may eventually be a problem. Making MOPAC itself thread-safe is not a realistic
possibility without completely rewriting it, but the Python API wrapper could be made thread-safe if each thread loads a separate instance
of the MOPAC shared library.</p>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="example.html" class="btn btn-neutral float-right" title="Example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Jonathan Moussa.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>